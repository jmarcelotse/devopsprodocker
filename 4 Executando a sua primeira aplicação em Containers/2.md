# Preparando o ContÃªiner para a AplicaÃ§Ã£o
Para preparar o contÃªiner e garantir que sua aplicaÃ§Ã£o de conversÃ£o de temperatura esteja pronta para execuÃ§Ã£o, Ã© necessÃ¡rio configurar um Dockerfile eficiente e, opcionalmente, usar um docker-compose.yml para orquestraÃ§Ã£o. Segue um guia detalhado para preparar o ambiente.

# 1. Estrutura do Projeto
A estrutura final do projeto serÃ¡:

bash
```
conversao-temperatura/
â”‚
â”œâ”€â”€ app.js                 # CÃ³digo principal da aplicaÃ§Ã£o Node.js
â”œâ”€â”€ package.json           # ConfiguraÃ§Ãµes e dependÃªncias do Node.js
â”œâ”€â”€ Dockerfile             # DefiniÃ§Ã£o do contÃªiner
â”œâ”€â”€ docker-compose.yml     # Arquivo para orquestraÃ§Ã£o com Docker Compose
â”œâ”€â”€ index.html             # PÃ¡gina HTML da aplicaÃ§Ã£o
â””â”€â”€ node_modules/          # DiretÃ³rio gerado pelo npm (nÃ£o criar manualmente)
```
# 2. Criando o Dockerfile
O **Dockerfile** define como o contÃªiner serÃ¡ criado. Ele especifica a imagem base, dependÃªncias e configuraÃ§Ãµes da aplicaÃ§Ã£o.

**ConteÃºdo do** `Dockerfile`

dockerfile
```
# Usar a imagem oficial do Node.js como base
FROM node:16

# Definir o diretÃ³rio de trabalho no contÃªiner
WORKDIR /usr/src/app

# Copiar arquivos de configuraÃ§Ã£o (package.json e package-lock.json) para o contÃªiner
COPY package*.json ./

# Instalar dependÃªncias da aplicaÃ§Ã£o
RUN npm install

# Copiar o restante do cÃ³digo para o contÃªiner
COPY . .

# Expor a porta usada pela aplicaÃ§Ã£o
EXPOSE 8080

# Comando para iniciar a aplicaÃ§Ã£o
CMD ["npm", "start"]
```
# 3. Criando o docker-compose.yml
O arquivo `docker-compose.yml` facilita a construÃ§Ã£o e execuÃ§Ã£o do contÃªiner. Ele define os serviÃ§os, portas, volumes e outras configuraÃ§Ãµes.

**ConteÃºdo do** `docker-compose.yml`

yaml
```
version: '3.8'
services:
  app:
    build:
      context: .
    ports:
      - "8080:8080"   # Mapeia a porta 8080 do host para a porta 8080 do contÃªiner
    volumes:
      - .:/usr/src/app # Monta o cÃ³digo do host no contÃªiner (Ãºtil para desenvolvimento)
    container_name: conversao-temperatura
```
# 4. Configurando o Arquivo package.json
O `package.json` gerencia as dependÃªncias e define o script para iniciar a aplicaÃ§Ã£o.

**ConteÃºdo do** `package.json`

json
```
{
  "name": "conversao-temperatura",
  "version": "1.0.0",
  "description": "AplicaÃ§Ã£o de conversÃ£o de temperaturas em Node.js",
  "main": "app.js",
  "scripts": {
    "start": "node app.js"
  },
  "dependencies": {
    "express": "^4.18.2"
  }
}
```
# 5. Testando Localmente
Antes de construir o contÃªiner, teste a aplicaÃ§Ã£o localmente para garantir que ela funciona corretamente.

1. Instale as dependÃªncias do Node.js:

bash
```
npm install
```
2. Execute a aplicaÃ§Ã£o:

bash
```
node app.js
```
3. Acesse a aplicaÃ§Ã£o em `http://localhost:8080/index.html`.

# 6. Construindo o ContÃªiner
1. **Construir a Imagem do Docker** Execute o comando abaixo para criar a imagem com base no `Dockerfile`:

bash
```
docker build -t conversao-temperatura .
```
2. **Executar o ContÃªiner** Use o comando para iniciar o contÃªiner:

bash
```
docker run -d -p 8080:8080 --name conversao-temperatura conversao-temperatura
```
3. **Acessar a AplicaÃ§Ã£o** Abra o navegador e acesse: `http://localhost:8080`.

# 7. Usando o Docker Compose
Com o arquivo `docker-compose.yml`, vocÃª pode construir e executar o contÃªiner com um Ãºnico comando:

1. **Iniciar o ServiÃ§o**

bash
```
docker-compose up -d
```
2. **Acessar a AplicaÃ§Ã£o** Abra o navegador e acesse: `http://localhost:8080`.

3. **Parar o ServiÃ§o** Para parar e remover os contÃªineres criados:

bash
```
docker-compose down
```
# 8. VerificaÃ§Ã£o e Debug
## 8.1 Verificar os ContÃªineres em ExecuÃ§Ã£o
bash
```
docker ps
```
## 8.2 Verificar Logs do ContÃªiner
bash
```
docker logs conversao-temperatura
```
## 8.3 Acessar o ContÃªiner
Para acessar o terminal do contÃªiner em execuÃ§Ã£o:

bash
```
docker exec -it conversao-temperatura /bin/bash
```
# 9. PrÃ¡ticas Recomendadas
1. **Gerenciamento de Portas**
- Certifique-se de que a porta 8080 nÃ£o estÃ¡ em uso antes de iniciar o contÃªiner.

2. **Logs Persistentes**
- Configure volumes para salvar logs e outros dados gerados pelo contÃªiner.

3. **Ambientes de Desenvolvimento e ProduÃ§Ã£o**
- Use arquivos diferentes de `docker-compose` para separar configuraÃ§Ãµes de desenvolvimento e produÃ§Ã£o.

# 10. ConclusÃ£o
Agora, vocÃª tem um contÃªiner totalmente preparado para rodar a aplicaÃ§Ã£o de conversÃ£o de temperatura. Com o Docker e o Docker Compose, fica fÃ¡cil gerenciar, escalar e transportar a aplicaÃ§Ã£o entre diferentes ambientes.

Se precisar de mais ajuda ou ajustes, Ã© sÃ³ pedir! ğŸ˜Š