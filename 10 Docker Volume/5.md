# Exemplo PrÃ¡tico com Bind Mount no Docker
Vamos criar um exemplo prÃ¡tico usando **Bind Mount** para sincronizar um diretÃ³rio local com um contÃªiner. Neste caso, construiremos uma aplicaÃ§Ã£o Node.js simples, onde as alteraÃ§Ãµes no cÃ³digo-fonte no host serÃ£o refletidas automaticamente no contÃªiner em tempo real.

# 1. Estrutura do Projeto
## DiretÃ³rio no Host
go
```
bind-mount-example/
â”‚
â”œâ”€â”€ app.js
â”œâ”€â”€ package.json
â””â”€â”€ package-lock.json
```
## app.js
javascript
```
const express = require('express');
const app = express();
const port = 3000;

app.get('/', (req, res) => {
    res.send('OlÃ¡, Bind Mount!');
});

app.listen(port, () => {
    console.log(`Servidor rodando na porta ${port}`);
});
```
## package.json
json
```
{
  "name": "bind-mount-example",
  "version": "1.0.0",
  "description": "Exemplo prÃ¡tico de Bind Mount no Docker",
  "main": "app.js",
  "scripts": {
    "start": "node app.js"
  },
  "dependencies": {
    "express": "^4.18.2"
  }
}
```
# 2. Configurando o Bind Mount
## Criando o DiretÃ³rio no Host
1. Crie o diretÃ³rio para o projeto:

bash
```
mkdir bind-mount-example
cd bind-mount-example
```
2. Crie os arquivos `app.js` e `package.json` com o conteÃºdo acima.

3. Instale as dependÃªncias:

bash
```
npm install
```
# 3. Executando com Bind Mount
## Comando Docker
Execute o seguinte comando para rodar a aplicaÃ§Ã£o no contÃªiner, montando o diretÃ³rio local no contÃªiner:

bash
```
docker run -it --rm -v $(pwd):/app -w /app -p 3000:3000 node:16-alpine npm start
```
### ExplicaÃ§Ã£o do Comando:
- `-v $(pwd):/app`: Monta o diretÃ³rio atual (`bind-mount-example`) no contÃªiner no caminho `/app`.
- `-w /app`: Define `/app` como o diretÃ³rio de trabalho no contÃªiner.
- `-p 3000:3000`: Mapeia a porta 3000 do contÃªiner para a porta 3000 do host.
- `npm start`: Inicia o servidor Node.js.

# 4. Testando a AplicaÃ§Ã£o
## Acessar no Navegador
Abra o navegador e acesse: http://localhost:3000.

### SaÃ­da Esperada:

css
```
OlÃ¡, Bind Mount!
```

# 5. Alterando o CÃ³digo em Tempo Real
1. Edite o arquivo `app.js` no host:

javascript
```
res.send('OlÃ¡, Bind Mount com Hot Reload!');
```
2. O contÃªiner refletirÃ¡ automaticamente as alteraÃ§Ãµes, sem necessidade de reiniciar.

# 6. Parando o ContÃªiner
Quando terminar, vocÃª pode interromper o contÃªiner com `Ctrl + C`, pois usamos a flag `--rm`, que remove automaticamente o contÃªiner ao ser parado.

# 7. Verificando Arquivos no ContÃªiner
VocÃª pode verificar os arquivos montados no contÃªiner para confirmar que o diretÃ³rio estÃ¡ sincronizado.

## Passo a Passo:
1. Abra um contÃªiner interativo com o Bind Mount:

bash
```
docker run -it --rm -v $(pwd):/app -w /app node:16-alpine sh
```
2. Dentro do contÃªiner, liste os arquivos:

bash
```
ls -l /app
```
3. Saia do contÃªiner:

bash
```
exit
```
# 8. Boas PrÃ¡ticas para Bind Mount
1. **Use Caminhos Relativos ou Absolutos**:

- No Linux/Mac:
bash
```
-v $(pwd):/app
```
- No Windows:
bash
```
-v C:\meu-projeto:/app
```
2. **Combine com `.dockerignore`**:
- Exclua arquivos desnecessÃ¡rios do bind mount. **Exemplo de `.dockerignore`**:

bash
```
node_modules
*.log
```
3. **Evite Montar DiretÃ³rios SensÃ­veis**:
- NÃ£o monte diretÃ³rios como `/home` ou `C:\Users` diretamente.

4. **Use Bind Mounts em Desenvolvimento**:
- Prefira **volumes gerenciados pelo Docker** para produÃ§Ã£o.

# 9. Resumo do Exemplo
- **Comando Principal**:

bash
```
docker run -it --rm -v $(pwd):/app -w /app -p 3000:3000 node:16-alpine npm start
```
- **Resultado**:
- AlteraÃ§Ãµes feitas nos arquivos do host sÃ£o refletidas no contÃªiner em tempo real.
- O servidor Node.js estÃ¡ rodando na porta 3000.

Se precisar de mais exemplos ou ajuda para configurar Bind Mounts no Docker, Ã© sÃ³ chamar! ğŸš€ğŸ˜Š
