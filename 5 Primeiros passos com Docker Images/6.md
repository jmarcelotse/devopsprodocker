# Docker Commit na PrÃ¡tica
O comando `docker commit` permite criar uma imagem Docker a partir de um contÃªiner existente. Ele Ã© muito Ãºtil para capturar o estado atual de um contÃªiner, incluindo configuraÃ§Ãµes, arquivos e pacotes instalados, e transformÃ¡-lo em uma imagem reutilizÃ¡vel.

Abaixo estÃ¡ um exemplo prÃ¡tico detalhado do uso do `docker commit`.

# 1. CenÃ¡rio
Vamos criar um contÃªiner baseado no **Ubuntu**, instalar o pacote `curl`, adicionar um arquivo de texto, e capturar esse estado como uma nova imagem com o `docker commit`.

# 2. Passos PrÃ¡ticos
## 2.1 Criar e Iniciar um ContÃªiner
1. Execute o contÃªiner interativo baseado na imagem Ubuntu:

bash
```
docker run -it ubuntu
```
2. Dentro do contÃªiner:

- Atualize os pacotes:

bash
```
apt-get update
```
- Instale o curl:

bash
```
apt-get install -y curl
```
- Crie um arquivo de texto:

bash
```
echo "Bem-vindo ao contÃªiner personalizado!" > /home/bemvindo.txt
```
3. Saia do contÃªiner digitando:

bash
```
exit
```
## 2.2 Listar ContÃªineres Parados
ApÃ³s sair, o contÃªiner serÃ¡ parado. Liste os contÃªineres:

bash
```
docker ps -a
```
**SaÃ­da Exemplo**:

java
```
CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS                     NAMES
f1a2b3c4d5e6   ubuntu    "/bin/bash"   5 minutes ago   Exited (0) 10 seconds ago  adoring_curie
```
- Anote o **CONTAINER ID** ou o **NOME** (no exemplo acima: `f1a2b3c4d5e6` ou `adoring_curie`).

# 2.3 Criar uma Nova Imagem com Docker Commit
1. Use o comando `docker commit` para capturar o estado do contÃªiner:

bash
```
docker commit -a "Seu Nome" -m "Imagem personalizada com curl e arquivo de boas-vindas" f1a2b3c4d5e6 ubuntu-personalizado
```
- `-a "Seu Nome"`: Adiciona o autor da imagem.
- `-m "Mensagem"`: DescriÃ§Ã£o da imagem.
- `f1a2b3c4d5e6`: ID ou nome do contÃªiner.
- `ubuntu-personalizado`: Nome da nova imagem.

## 2.4 Verificar a Nova Imagem
Liste as imagens disponÃ­veis:

bash
```
docker images
```
### SaÃ­da Exemplo:

wasm
```
REPOSITORY            TAG       IMAGE ID       CREATED          SIZE
ubuntu-personalizado  latest    1a2b3c4d5e6f   10 seconds ago   75MB
ubuntu                latest    f643c72bc252   2 weeks ago      29MB
```
## 2.5 Testar a Nova Imagem
1. Inicie um contÃªiner baseado na nova imagem:

bash
```
docker run -it ubuntu-personalizado
```
2. Verifique se o `curl` estÃ¡ instalado:

bash
```
curl --version
```
3. Confira o arquivo de boas-vindas:

bash
```
cat /home/bemvindo.txt
```
**SaÃ­da Esperada**:

```
Bem-vindo ao contÃªiner personalizado!
```
# 4. Vantagens do Docker Commit
1. **Prototipagem RÃ¡pida**:
- Permite criar imagens rapidamente sem precisar de um Dockerfile.

2. **Backup de ContÃªineres**:
- VocÃª pode capturar o estado atual de um contÃªiner antes de descartÃ¡-lo.

3. **Flexibilidade**:
- Ãštil para criar imagens a partir de ambientes configurados manualmente.

# 5. LimitaÃ§Ãµes do Docker Commit
1. **NÃ£o ReprodutÃ­vel**:
- AlteraÃ§Ãµes feitas manualmente no contÃªiner podem ser difÃ­ceis de replicar em outros sistemas.

2. **Falta de Controle Versus Dockerfile**:
- Com um Dockerfile, vocÃª pode documentar claramente todas as etapas e replicar facilmente o processo.

3. **Tamanho da Imagem**:
- Dependendo do estado do contÃªiner, a imagem resultante pode ser maior do que uma criada com um Dockerfile otimizado.

# 6. Alternativa: Converter para Dockerfile
Se vocÃª usou o `docker commit` para criar uma imagem, pode converter as etapas realizadas em um **Dockerfile** para maior controle.

1. Inspecione o histÃ³rico da imagem:

bash
```
docker history ubuntu-personalizado
```

2. Baseie-se nas alteraÃ§Ãµes feitas para criar um `Dockerfile`:

dockerfile
```
FROM ubuntu
RUN apt-get update && apt-get install -y curl
COPY bemvindo.txt /home/bemvindo.txt
```
3. Construa a imagem com:

bash
```
docker build -t ubuntu-personalizado:2.0 .
```
# 7. ConclusÃ£o
O `docker commit` Ã© uma ferramenta poderosa e prÃ¡tica para capturar rapidamente o estado de um contÃªiner e transformÃ¡-lo em uma imagem reutilizÃ¡vel. Ã‰ ideal para prototipagem e desenvolvimento inicial, mas para fluxos de trabalho mais robustos e reprodutÃ­veis, o uso de um Dockerfile Ã© altamente recomendado.

Se precisar de ajuda com imagens ou configuraÃ§Ãµes mais complexas, Ã© sÃ³ perguntar! ğŸ˜Š