# Docker no Windows com Rancher Desktop
O **Rancher Desktop** Ã© uma alternativa ao Docker Desktop, amplamente utilizada para gerenciar contÃªineres e Kubernetes em sistemas Windows, macOS e Linux. Ele fornece um ambiente integrado para desenvolvedores que precisam criar, executar e orquestrar contÃªineres sem depender do Docker Desktop.

# 1. O que Ã© o Rancher Desktop?
O Rancher Desktop Ã© uma ferramenta de cÃ³digo aberto que combina:

- **Gerenciamento de contÃªineres**: Usando `containerd` ou `Moby` como runtime.
- **OrquestraÃ§Ã£o Kubernetes**: Inclui uma instÃ¢ncia local do Kubernetes para desenvolvimento e testes.
- **Suporte ao CLI Docker**: Oferece compatibilidade com comandos Docker (docker), mesmo sem usar o Docker Desktop.

## Recursos Principais
- Suporte nativo ao **Kubernetes (K8s)** com vÃ¡rias versÃµes.
- CompatÃ­vel com `docker CLI` via `nerdctl` ou `moby`.
- Suporte a sistemas operacionais Windows, macOS e Linux.
- Gerenciamento de imagens, redes e volumes para contÃªineres.

# 2. Por Que Usar o Rancher Desktop?
## Vantagens
1. **Alternativa Gratuita**:
- Ã‰ uma soluÃ§Ã£o de cÃ³digo aberto e gratuita, ao contrÃ¡rio do Docker Desktop, que tem limitaÃ§Ãµes na licenÃ§a para uso comercial.
2. **Kubernetes Local**:
- Inclui um cluster Kubernetes embutido para desenvolvimento.
3. **Compatibilidade com CLI Docker**:
- Permite usar docker run, docker build e outros comandos Docker.
## LimitaÃ§Ãµes
- Pode exigir ajustes adicionais para quem jÃ¡ estÃ¡ acostumado com o Docker Desktop.
- IntegraÃ§Ã£o nativa com WSL 2 Ã© mais manual em comparaÃ§Ã£o ao Docker Desktop.

# 3. InstalaÃ§Ã£o do Rancher Desktop no Windows
## 3.1 PrÃ©-requisitos
- **Sistema Operacional**:
  - Windows 10 (build 19041 ou superior) ou Windows 11.
- **Hardware**:
- Suporte Ã  virtualizaÃ§Ã£o (VT-x ou AMD-V) habilitado.
- Pelo menos 4 GB de RAM.
- **Windows Subsystem for Linux 2 (WSL 2)**:
  - Deve estar configurado e habilitado.
## 3.2 InstalaÃ§Ã£o do WSL 2
Se o WSL 2 ainda nÃ£o estiver habilitado, execute:

powershell
```
wsl --install
```
Certifique-se de que a distribuiÃ§Ã£o Linux padrÃ£o seja configurada para usar o WSL 2:

powershell
```
wsl --set-default-version 2
```
## 3.3 Baixar o Rancher Desktop
1. Acesse o site oficial:
- Rancher Desktop
2. Baixe a versÃ£o mais recente compatÃ­vel com Windows.

## 3.4 Instalar o Rancher Desktop
1. Execute o instalador e siga as instruÃ§Ãµes.
2. Durante a instalaÃ§Ã£o:
- Escolha o runtime de contÃªiner preferido: **containerd** ou **Moby**.
- Ative o Kubernetes, se necessÃ¡rio.
## 3.5 Verifique a InstalaÃ§Ã£o
Abra o Rancher Desktop e confirme que o ambiente estÃ¡ funcionando corretamente.

# 4. ConfiguraÃ§Ã£o do Rancher Desktop no Windows
## 4.1 Configurar o Runtime de ContÃªiner
1. Acesse as configuraÃ§Ãµes do Rancher Desktop:
- **File > Preferences > Container Runtime**.
2. Escolha entre:
- **Containerd**: Um runtime leve e eficiente.
- **Moby**: Runtime tradicional usado pelo Docker Engine.
## 4.2 Habilitar o CLI Docker
Se vocÃª deseja usar o comando `docker`, habilite o suporte ao CLI Docker nas configuraÃ§Ãµes.

## 4.3 Kubernetes Local
- O Rancher Desktop permite rodar um cluster Kubernetes local.
- Configure a versÃ£o do Kubernetes nas preferÃªncias:
  - **File > Preferences > Kubernetes**.

# 5. Usando o Rancher Desktop no Windows
## 5.1 Comandos BÃ¡sicos de ContÃªiner
Com o suporte ao CLI Docker habilitado, vocÃª pode usar os comandos Docker normalmente:

- Rodar um contÃªiner:

bash
```
docker run -d -p 8080:80 nginx
```
- Listar contÃªineres:

bash
```
docker ps
```
- Parar um contÃªiner:
bash
```
docker stop <container_id>
```
## 5.2 Gerenciamento de Kubernetes
- Verifique os pods em execuÃ§Ã£o:

bash
```
kubectl get pods
```
- Implante uma aplicaÃ§Ã£o:

bash
```
kubectl apply -f deployment.yaml
```
## 5.3 Alternativa ao Docker CLI com Nerdctl
Se vocÃª nÃ£o habilitou o suporte ao CLI Docker, use o `nerdctl` para gerenciar contÃªineres:

- Rodar um contÃªiner:

bash
```
nerdctl run -d -p 8080:80 nginx
```
- Listar contÃªineres:

bash
```
nerdctl ps
```
# 6. Recursos Adicionais
## 6.1 IntegraÃ§Ã£o com o WSL 2
- O Rancher Desktop pode ser configurado para usar distribuiÃ§Ãµes Linux no WSL 2.
- Verifique as distribuiÃ§Ãµes disponÃ­veis:

powershell
```
wsl -l -v
```
## 6.2 Configurar Recursos
- Acesse as configuraÃ§Ãµes do Rancher Desktop:
  - **File > Preferences > Resources**.
- Ajuste os recursos alocados para:
  - CPU.
  - MemÃ³ria.
  - Disco.

# 7. SoluÃ§Ã£o de Problemas (Troubleshooting)
## 7.1 Problemas ao Iniciar
- Certifique-se de que o WSL 2 estÃ¡ habilitado:

powershell
```
wsl --list --verbose
```
- Atualize o kernel do WSL 2:

powershell
```
wsl --update
```
## 7.2 Erro com CLI Docker
- Verifique se o suporte ao CLI Docker estÃ¡ habilitado:
  - **File > Preferences > Container Runtime > Enable Docker CLI**.
## 7.3 Kubernetes NÃ£o Funciona
- Reinicie o Rancher Desktop e o serviÃ§o Kubernetes:

bash
```
kubectl cluster-info
```
# 8. ComparaÃ§Ã£o: Rancher Desktop vs Docker Desktop
| Aspecto               | Rancher Desktop            | Docker Desktop                                                |
| --------------------- | -------------------------- | ------------------------------------------------------------- |
| LicenÃ§a               | Gratuito e open source.    | Gratuito para uso pessoal, mas licenciado para uso comercial. |
| Runtime               | Containerd ou Moby.        | Docker Engine.                                                |
| Kubernetes            | Embutido.                  | Opcional, mas suportado.                                      |
| Suporte ao CLI Docker | Sim, com configuraÃ§Ã£o.     | Nativo.                                                       |
| Performance           | Similar ao Docker Desktop. | Altamente otimizado.                                          |


# 9. ConclusÃ£o
O Rancher Desktop Ã© uma alternativa poderosa e gratuita ao Docker Desktop, oferecendo suporte a contÃªineres e Kubernetes em um Ãºnico pacote. Ele Ã© ideal para desenvolvedores que desejam evitar as limitaÃ§Ãµes da licenÃ§a do Docker Desktop, enquanto ainda utilizam ferramentas familiares, como o CLI Docker e Kubernetes. Com sua flexibilidade e integraÃ§Ã£o com WSL 2, Ã© uma soluÃ§Ã£o robusta para desenvolvimento no Windows.

Se precisar de ajuda com configuraÃ§Ã£o ou dÃºvidas sobre o Rancher Desktop, estou aqui para ajudar! ğŸ˜Š
